<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>
                        Getting Started with Solr and Django &mdash; timbroder.com
            </title>
    <meta name="description" content="django python solr Getting Started with Solr and Django" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="alternate" type="application/rss+xml" title="timbroder.com &raquo; Feed" href="https://feeds.feedburner.com/timbroder" />
    
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />        <link href="https://www.timbroder.com/themes/broderboy/deadfish/assets/css/screen.css" rel="stylesheet" media="screen">
    <link href="https://www.timbroder.com/themes/broderboy/deadfish/assets/css/tag_cloud.css" rel="stylesheet" media="screen">
    <link href="https://www.timbroder.com/themes/broderboy/deadfish/assets/css/twilight.css" rel="stylesheet" media="screen">
        <script>
(function(a,b){function d(a,b){return a===null?b==="null":a===undefined?b==="undefined":a.is&&a instanceof f?b==="element":Object.prototype.toString.call(a).toLowerCase().indexOf(b)>7}function c(a){var b,e,f,g,h,i,l,m,n;if(a instanceof c)return a;d(a,"array")||(a=String(a).replace(/\s/g,"").toLowerCase().match(/(?:\+,|[^,])+/g));for(b=0,e=a.length;b<e;++b){d(a[b],"array")||(a[b]=String(a[b]).match(/(?:\+\/|[^\/])+/g)),i=[],f=a[b].length;while(f--){var l=a[b][f];h={jwertyCombo:String(l),shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1},d(l,"array")||(l=String(l).toLowerCase().match(/(?:(?:[^\+])+|\+\+|^\+$)/g)),g=l.length;while(g--)l[g]==="++"&&(l[g]="+"),l[g]in k.mods?h[j[k.mods[l[g]]]]=!0:l[g]in k.keys?h.keyCode=k.keys[l[g]]:m=l[g].match(/^\[([^-]+\-?[^-]*)-([^-]+\-?[^-]*)\]$/);if(d(h.keyCode,"undefined"))if(m&&m[1]in k.keys&&m[2]in k.keys){m[2]=k.keys[m[2]],m[1]=k.keys[m[1]];for(n=m[1];n<m[2];++n)i.push({altKey:h.altKey,shiftKey:h.shiftKey,metaKey:h.metaKey,ctrlKey:h.ctrlKey,keyCode:n,jwertyCombo:String(l)});h.keyCode=n}else h.keyCode=0;i.push(h)}this[b]=i}this.length=b;return this}var e=a.document,f=a.jQuery||a.Zepto||a.ender||e,g,h,i="keydown";f===e?(g=function(a,b){return a?f.querySelector(a,b||f):f},h=function(a,b){a.addEventListener(i,b,!1)},$f=function(a,b){var c=document.createEvent("Event"),d;c.initEvent(i,!0,!0);for(d in b)c[d]=b[d];return(a||f).dispatchEvent(c)}):(g=function(a,b,c){return f(a||e,b)},h=function(a,b){f(a).bind(i+".jwerty",b)},$f=function(a,b){f(a||e).trigger(f.Event(i,b))});var j={16:"shiftKey",17:"ctrlKey",18:"altKey",91:"metaKey"},k={mods:{".":16,shift:16,".":17,ctrl:17,".":18,alt:18,option:18,".":91,meta:91,cmd:91,"super":91,win:91},keys:{".":8,backspace:8,".":9,".":9,tab:9,".":13,"return":13,enter:13,".":13,pause:19,"pause-break":19,".":20,caps:20,"caps-lock":20,".":27,escape:27,esc:27,space:32,".":33,pgup:33,"page-up":33,".":34,pgdown:34,"page-down":34,".":35,end:35,".":36,home:36,ins:45,insert:45,del:45,"delete":45,".":37,left:37,"arrow-left":37,".":38,up:38,"arrow-up":38,".":39,right:39,"arrow-right":39,".":40,down:40,"arrow-down":40,"*":106,star:106,asterisk:106,multiply:106,"+":107,plus:107,"-":109,subtract:109,"=":187,equals:187,",":188,comma:188,".":190,period:190,"full-stop":190,"/":191,slash:191,"forward-slash":191,"`":192,tick:192,"back-quote":192,"[":219,"open-bracket":219,"\\":220,"back-slash":220,"]":221,"close-bracket":221,"'":222,quote:222,apostraphe:222}};l=95,n=0;while(++l<106)k.keys["num-"+n]=l,++n;l=47,n=0;while(++l<58)k.keys[n]=l,++n;l=111,n=1;while(++l<136)k.keys["f"+n]=l,++n;var l=64;while(++l<91)k.keys[String.fromCharCode(l).toLowerCase()]=l;var m=b.jwerty={event:function(a,b,e){if(d(b,"boolean")){var f=b;b=function(){return f}}a=new c(a);var g=0,h=a.length-1,i,j;return function(c){if(j=m.is(a,c,g)){if(g<h){++g;return}i=b.call(e||this,c,j),i===!1&&c.preventDefault(),g=0}else g=m.is(a,c)?1:0}},is:function(a,b,d){a=new c(a),d=d||0,a=a[d],b=b.originalEvent||b;var e,f=a.length,g=!1;while(f--){g=a[f].jwertyCombo;for(var h in a[f])h!=="jwertyCombo"&&b[h]!==a[f][h]&&(g=!1);if(g!==!1)return g}return g},key:function(b,c,e,f,i){var j=d(e,"element")||d(e,"string")?e:f,k=j===e?a:e,l=j===e?f:i;h(d(j,"element")?j:g(j,l),m.event(b,c,k))},fire:function(a,b,e,f){a=new c(a);var h=d(e,"number")?e:f;$f(d(b,"element")?b:g(b,e),a[h||0][0])},KEYS:k}})(this,typeof module!="undefined"&&module.exports?module.exports:this),jwerty.key("B,A",function(){_unicorns=document.createElement("SCRIPT"),_unicorns.type="text/javascript",_unicorns.src="http://snacksize.com/unicorn/unicorn.js?",document.getElementsByTagName("head")[0].appendChild(_unicorns)})
</script>
</head>
<body class="nav-closed">
                                        <div class="site-wrapper">
                        <header class="main-header">
        <div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">
                <a href="/">
                    timbroder.com
                </a>
            </h1>
                        <h2 class="page-description">
                <a href="/apps.html">Apps</a>
                <a href="/projects.html">Projects</a>
                <a href="/podcasts.html">Podcasts</a>
                <a href="/talks.html">Talks</a>
                            </h2>
        </div>
    </div>
    </header>                            
                    <main class="content" role="main">
            
    <article class="post" role="article">
        
<header class="post-header">
    <h1 class="post-title"><a href="https://www.timbroder.com/2012/08/getting-started-with-solr-and-django.html">Getting Started with Solr and Django</a></h1>
    <section class="post-meta">
      <time class="post-date" datetime="2012-08-23T19:45:56+00:00" pubdate>
                      <span class='month'>Aug</span> <span class='day'>23rd</span> <span class='year'>2012</span>
                </time>

                    <span class="poop2"> in
                        <a href="https://www.timbroder.com/blog/categories/Code">Code</a>                            </span>
                            <span class="poop2">
                        <a href="https://www.timbroder.com/blog/tags/django">#django</a>
                        <a href="https://www.timbroder.com/blog/tags/python">#python</a>
                        <a href="https://www.timbroder.com/blog/tags/solr">#solr</a>
                            </span>
                <span><a href="/2012/08/getting-started-with-solr-and-django.html" class="poop" style="color:#4A4A4A">‡πè</a></span>
        <div class="comment-count">
            <a href="https://www.timbroder.com/2012/08/getting-started-with-solr-and-django.html#disqus_thread" class="disqus-comment-count"
                                    data-disqus-identifier="816104825"
                            ></a>
        </div>
    </section>

  </header>

  <section class="post-content"><p><a href="http://lucene.apache.org/solr/">Solr</a> is a very powerful search tool and it
is pretty easy to get the basics, such as full text search, facets, and
related assets up and running pretty quickly. We will be using haystack to do
the communication between Django and Solr. All code for this can be viewed on
<a href="https://github.com/broderboy/django-solr-demo">github</a>.</p>

<h2 id="install">Install</h2>

<p>Assuming you already have Django up and running, the first thing we need to do
is install Solr.</p>

<pre><code>curl -O http://mirrors.gigenet.com/apache/lucene/solr/4.0.0-BETA/apache-solr-4.0.0-BETA.zip
unzip apache-solr-4.0.0-BETA.zip
cd apache-solr-4.0.0-BETA
cd example
java -jar start.jar
</code></pre>

<p>Next install pysolr and haystack. (At the time of this writing the git
checkout of haystack works better with the Solr 4.0 beta then the 1.2.7 that's
in pip.)</p>

<pre><code>pip install pysolr
pip install -e https://github.com/toastdriven/django-haystack.git
</code></pre>

<p>Add 'haystack' to INSTALLED_APPS in settings.py and add the following haystack
connection:</p>

<pre><code data-language="python">HAYSTACK_CONNECTIONS = { 
    'default': { 
        'ENGINE': 'haystack.backends.solr_backend.SolrEngine', 
        'URL': 'http://127.0.0.1:8983/solr' 
    }, 
}
</code></pre>

<h2 id="full-text-search">Full Text Search</h2>

<p>For the example, we're going to create a simple job database that a recruiter
might use. Here is the model:</p>

<pre><code data-language="python">from django.db import models
from django.contrib.localflavor.us
import models as us_models

JOB_TYPES = (
    ('pt', 'Part Time'),
    ('ft', 'Full Time'),
    ('ct', 'Contract')
)

class Company(models.Model):
    name = models.CharField(max_length=64)
    address = models.TextField(blank=True, null=True)
    contact_email = models.EmailField()

    def __unicode__(self):
        return self.name

class Location(models.Model):
    city = models.CharField(max_length=64)
    state = us_models.USStateField()

    def __unicode__(self):
        return "%s, %s" % (self.city, self.state)

class Job(models.Model):
    name = models.CharField(max_length=64)
    description = models.TextField()
    salary = models.CharField(max_length=64, blank=True, null=True)
    type = models.CharField(max_length=2, choices=JOB_TYPES)
    company = models.ForeignKey(Company, related_name='jobs')
    location = models.ForeignKey(Location, related_name='location_jobs')
    contact_email = models.EmailField(blank=True, null=True)
    added_at = models.DateTimeField(auto_now=True)

    def __unicode__(self):
        return self.name

    def get_contact_email(self):
        if self.contact_email:
            return self.contact_email

        return self.company.contact_email
</code></pre>

<p>The next step is to create the
SearchIndex object that will be used to transpose to data to Solr. save this
as search_indexes.py in the same folder as your models.py. The text field with
its template will be used for full text search on Solr. The other two fields
will be used to faceted (drill down) navigation. For more details on this
file, check out the [haystack tutorial](http://django-
haystack.readthedocs.org/en/latest/tutorial.html#handling-data).</p>

<pre><code>class JobIndex(indexes.SearchIndex, indexes.Indexable):
    text = indexes.CharField(document=True, use_template=True)
    type = indexes.CharField(model_attr='type', faceted=True)
    location = indexes.CharField(model_attr='location', faceted=True)

    def get_model(self):
        return Job

    def index_queryset(self):
        return self.get_model().objects.all()
</code></pre>

<p>Create the search index template in your template folder with the following
naming convention: <code>search/indexes/[app]/[model]_text.txt</code></p>

<p>For us, this is templates/search/indexes/jobs/job_text.txt</p>

<pre><code data-language="HTML">
{{ object.name }}
{{ object.description }}
{{ object.salary }}
{{ object.type }}
{{ object.added_at }}

</code></pre>

<p>Now, lets get our data into Solr. Run ./manage.py build_solr_schema to
generate a schema.xml file. Move this into example\solr\conf in your Solr
install. Note: if using Solr 4, edit this file and replace stopwords_en.txt
with lang/stopwords_en.txt in all locations. To test everything and load your
data, run: manage.py rebuild_index Subsequent updates can be made with:
manage.py update_index.</p>

<p>If that all worked we can start working on the front-end to see the data in
Django. Add this to your urls.py</p>

<pre><code>(r'^$', include('haystack.urls')),
</code></pre>

<p>At this point there are at least two templates we'll need. One for the search
results page, and a sub-template to represent each item we are pulling back.
My example uses <a href="http://twitter.github.com/bootstrap/">twitter bootstrap</a> for
some layout help and styling, see my base.html
[here](https://github.com/broderboy/django-solr-
demo/blob/master/templates/base.html) if interested.</p>

<p>Create templates/search/search.html This gives you a basic search form, the
results, and pagination for a number of results</p>

<pre><code data-language="HTML">
{% extends 'base.html' %}

{% block hero_text %}Search{% endblock %}
{% block header %}&lt;p&gt;Click around!&lt;/p&gt;{% endblock %}


{% block content %}
&lt;div class="span12"&gt;
    &lt;h1&gt;Search&lt;/h1&gt;
    &lt;form method="get" action="." class=".form-search"&gt;
        &lt;table&gt;
            {{ form.as_table }}
        &lt;/table&gt;
        &lt;input type="submit" value="Search"&gt;
    &lt;/form&gt;
&lt;/div&gt;
        {% if query %}
            &lt;div class="span2"&gt;
                &lt;h3&gt;Filter&lt;/h3&gt;
                {% if facets.fields.type %}
                    &lt;div&gt;
                        &lt;h4&gt;Type&lt;/h4&gt;
                        &lt;ul&gt;
                        {% for type in facets.fields.type %}
                            &lt;li&gt;&lt;a href="{{ request.get_full_path }}&amp;amp;selected_facets=type_exact:{{ type.0|urlencode }}"&gt;{{ type.0 }}&lt;/a&gt; ({{ type.1 }})&lt;/li&gt;
                        {% endfor %}
                        &lt;/ul&gt;
                    &lt;/div&gt;
                {% endif %}
                {% if facets.fields.location %}
                    &lt;div&gt;
                        &lt;h4&gt;Location&lt;/h4&gt;
                        &lt;ul&gt;
                        {% for location in facets.fields.location %}
                            &lt;li&gt;&lt;a href="{{ request.get_full_path }}&amp;amp;selected_facets=location_exact:{{ location.0|urlencode }}"&gt;{{ location.0 }}&lt;/a&gt; ({{ location.1 }})&lt;/li&gt;
                        {% endfor %}
                        &lt;/ul&gt;
                    &lt;/div&gt;
                {% endif %}
            &lt;/div&gt;
            &lt;div class="span6"&gt;
                &lt;h3&gt;Results&lt;/h3&gt;
                &lt;div class="accordion" id="accordion2"&gt;
                    {% for result in page.object_list %}
                        {% include 'search/_result_object.html' %}
                    {% empty %}
                        &lt;p&gt;No results found.&lt;/p&gt;
                    {% endfor %}
                &lt;/div&gt;

                {% if page.has_previous or page.has_next %}
                    &lt;div&gt;
                        {% if page.has_previous %}&lt;a href="?q={{ query }}&amp;amp;page={{ page.previous_page_number }}"&gt;{% endif %}&amp;laquo; Previous{% if page.has_previous %}&lt;/a&gt;{% endif %}
                        |
                        {% if page.has_next %}&lt;a href="?q={{ query }}&amp;amp;page={{ page.next_page_number }}"&gt;{% endif %}Next &amp;raquo;{% if page.has_next %}&lt;/a&gt;{% endif %}
                    &lt;/div&gt;
                {% endif %}
            &lt;/div&gt;
        {% else %}
            &lt;div class="span6"&gt;
                {# Show some example queries to run, maybe query syntax, something else? #}
            &lt;/div&gt;
        {% endif %}
{% endblock %}

</code></pre>

<p>And the templates/search/_result_object.txt</p>

<pre><code data-language="HTML">
{% load more_like_this %}


{% with obj=result.object %}
&lt;div class="accordion-group"&gt;
    &lt;div class="accordion-heading"&gt;
        &lt;a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapse_{{ obj.id }}"&gt;
            {{ obj.name }}
        &lt;/a&gt;
        &lt;div style="padding: 8px 15px;"&gt;
            &lt;p&gt;Company: {{ obj.company }}&lt;/p&gt;
            &lt;p&gt;Type: {{ obj.type }}&lt;/p&gt;
            {% if obj.salary %}&lt;p&gt;Salary: {{ obj.salary }}&lt;/p&gt;{% endif %}
            &lt;p&gt;Location: {{ obj.location }}&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="collapse_{{ obj.id }}" class="accordion-body collapse in"&gt;
        &lt;div class="accordion-inner"&gt;
            &lt;p&gt;Contact: &lt;a href="mailto:{{ obj.get_contact_email }}"&gt;{{ obj.get_contact_email }}&lt;/a&gt;&lt;/p&gt;
            {{ obj.description }}
            {% more_like_this obj as related_content limit 5  %}
            {% if related_content %}
                &lt;div&gt;
                    &lt;br&gt;
                    &lt;p&gt;&lt;strong&gt;Related:&lt;/strong&gt;&lt;/p&gt;
                    &lt;ul&gt;
                        {% for related in related_content %}
                            &lt;li&gt;&lt;a&gt;{{ related.object.name }}&lt;/a&gt;&lt;/li&gt;
                        {% endfor %}
                    &lt;/ul&gt;
                &lt;/div&gt;
            {% endif %}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
{% endwith %}

</code></pre>

<p>Start up your dev server for search!</p>

<p><a href="/images/2012/08/solr1.png"><img src="/images/2012/08/solr1.png" alt="" /></a></p>

<h2 id="related-items">Related Items</h2>

<p>Adding Related Items is as simple as using the related_content tag in the
haystack more_like_this tag library and tweaking out Solr config. Open up
solrconfig.xml and add a MoreLikeThisHandler within thetag:</p>

<pre><code data-language="XML">&lt;requesthandler name="/mlt" class="solr.MoreLikeThisHandler"&gt;&lt;/requesthandler&gt;
</code></pre>

<p>Our full _result_object.html now looks like this:</p>

<pre><code data-language="HTML">
{% load more_like_this %}


{% with obj=result.object %}
&lt;div class="accordion-group"&gt;
    &lt;div class="accordion-heading"&gt;
        &lt;a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapse_{{ obj.id }}"&gt;
            {{ obj.name }}
        &lt;/a&gt;
        &lt;div style="padding: 8px 15px;"&gt;
            &lt;p&gt;Company: {{ obj.company }}&lt;/p&gt;
            &lt;p&gt;Type: {{ obj.type }}&lt;/p&gt;
            {% if obj.salary %}&lt;p&gt;Salary: {{ obj.salary }}&lt;/p&gt;{% endif %}
            &lt;p&gt;Location: {{ obj.location }}&lt;/p&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="collapse_{{ obj.id }}" class="accordion-body collapse in"&gt;
        &lt;div class="accordion-inner"&gt;
            &lt;p&gt;Contact: &lt;a href="mailto:{{ obj.get_contact_email }}"&gt;{{ obj.get_contact_email }}&lt;/a&gt;&lt;/p&gt;
            {{ obj.description }}
            {% more_like_this obj as related_content limit 5  %}
            {% if related_content %}
                &lt;div&gt;
                    &lt;br /&gt;
                    &lt;p&gt;&lt;strong&gt;Related:&lt;/strong&gt;&lt;/p&gt;
                    &lt;ul&gt;
                        {% for related in related_content %}
                            &lt;li&gt;&lt;a&gt;{{ related.object.name }}&lt;/a&gt;&lt;/li&gt;
                        {% endfor %}
                    &lt;/ul&gt;
                &lt;/div&gt;
            {% endif %}
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
{% endwith %}

</code></pre>

<h2 id="facets">Facets</h2>

<p>To get our type and location facets, we'll have to add them to a queryset and
pass this to a FacetedSearchView instead of the default one. urls.py now looks
like this:</p>

<pre><code data-language="python">from django.conf.urls import patterns, include, url
from django.contrib import admin
admin.autodiscover()
from haystack.forms import FacetedSearchForm
from haystack.query import SearchQuerySet
from haystack.views import FacetedSearchView

sqs = SearchQuerySet().facet('type').facet('location')

urlpatterns = patterns('haystack.views',
    url(r'^$', FacetedSearchView(form_class=FacetedSearchForm, searchqueryset=sqs), name='haystack_search'),
)

urlpatterns = urlpatterns + patterns('',
    url(r'^admin/', include(admin.site.urls)),
    #(r'^', include('haystack.urls')),
)
- See more at: http://timbroder.com/2012/08/getting-started-with-solr-and-django.html?preview=true&amp;preview_id=1167&amp;preview_nonce=f6c209628d#sthash.2NVpbeDJ.dpuf
</code></pre>

<p>Then, we can use the generated facets in the search template in the facets
variable</p>

<pre><code data-language="html">
{% extends 'base.html' %}

{% block hero_text %}Search{% endblock %}
{% block header %}&lt;/p&gt;&lt;p&gt;Click around!&lt;/p&gt;{% endblock %}


{% block content %}
&lt;div class="span12"&gt;
    &lt;h1&gt;Search&lt;/h1&gt;
    &lt;form method="get" action="." class=".form-search"&gt;
        &lt;table&gt;
            {{ form.as_table }}
        &lt;/table&gt;
        &lt;input type="submit" value="Search"/&gt;
    &lt;/form&gt;
&lt;/div&gt;
        {% if query %}
            &lt;div class="span2"&gt;
                &lt;h3&gt;Filter&lt;/h3&gt;
                {% if facets.fields.type %}
                    &lt;div&gt;
                        &lt;h4&gt;Type&lt;/h4&gt;
                        &lt;ul&gt;
                        {% for type in facets.fields.type %}
                            &lt;li&gt;&lt;a href="{{ request.get_full_path }}&amp;amp;selected_facets=type_exact:{{ type.0|urlencode }}"&gt;{{ type.0 }}&lt;/a&gt; ({{ type.1 }})&lt;/li&gt;
                        {% endfor %}
                        &lt;/ul&gt;
                    &lt;/div&gt;
                {% endif %}
                {% if facets.fields.location %}
                    &lt;div&gt;
                        &lt;h4&gt;Location&lt;/h4&gt;
                        &lt;ul&gt;
                        {% for location in facets.fields.location %}
                            &lt;li&gt;&lt;a href="{{ request.get_full_path }}&amp;amp;selected_facets=location_exact:{{ location.0|urlencode }}"&gt;{{ location.0 }}&lt;/a&gt; ({{ location.1 }})&lt;/li&gt;
                        {% endfor %}
                        &lt;/ul&gt;
                    &lt;/div&gt;
                {% endif %}
            &lt;/div&gt;
            &lt;div class="span6"&gt;
                &lt;h3&gt;Results&lt;/h3&gt;
                &lt;div class="accordion" id="accordion2"&gt;
                    {% for result in page.object_list %}
                        {% include 'search/_result_object.html' %}
                    {% empty %}
                        &lt;p&gt;No results found.&lt;/p&gt;
                    {% endfor %}
                &lt;/div&gt;

                {% if page.has_previous or page.has_next %}
                    &lt;div&gt;
                        {% if page.has_previous %}&lt;a href="?q={{ query }}&amp;amp;page={{ page.previous_page_number }}"&gt;{% endif %}&amp;laquo; Previous{% if page.has_previous %}&lt;/a&gt;{% endif %}
                        |
                        {% if page.has_next %}&lt;a href="?q={{ query }}&amp;amp;page={{ page.next_page_number }}"&gt;{% endif %}Next &amp;raquo;{% if page.has_next %}&lt;/a&gt;{% endif %}
                    &lt;/div&gt;
                {% endif %}
            &lt;/div&gt;
        {% else %}
            &lt;div class="span6"&gt;
                {# Show some example queries to run, maybe query syntax, something else? #}
            &lt;/div&gt;
        {% endif %}
{% endblock %}

</code></pre>

<p>And we're done! As I said, check out the [haystack documentation](http
://django-haystack.readthedocs.org/en/latest/index.html) for more information.
Leave any questions in the comments and I'll be sure to answer them</p>

<p>[![](http://timbroder.com/wp-
content/uploads/2012/08/solr2.png)](http://timbroder.com/wp-
content/uploads/2012/08/solr2.png)</p>
</section>


    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'timbrodercom';
                var disqus_identifier = '816104825';
        
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    <footer class="post-footer">
          <section class="author">
                    <p class="categories">
            Categories:
                        <a href="https://www.timbroder.com/blog/categories/Code">Code</a>                        </p>
                            <p class="tags">
            Tags:
                        <a href="https://www.timbroder.com/blog/tags/django">django</a>,                         <a href="https://www.timbroder.com/blog/tags/python">python</a>,                         <a href="https://www.timbroder.com/blog/tags/solr">solr</a>                        </p>
              </section>
    
        <section class="share">
            <h4>Share this post</h4>
            <a class="icon-twitter" href="https://twitter.com/share?text=Getting Started with Solr and Django&amp;url=https://www.timbroder.com/2012/08/getting-started-with-solr-and-django.html"
            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
            <span class="hidden">Twitter</span>
            </a>
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://www.timbroder.com/2012/08/getting-started-with-solr-and-django.html"
            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
            <span class="hidden">Facebook</span>
            </a>
            <a class="icon-google-plus" href="https://plus.google.com/share?url=https://www.timbroder.com/2012/08/getting-started-with-solr-and-django.html"
            onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
            <span class="hidden">Google+</span>
            </a>
        </section>
    </footer>
    </article>

            <aside class="read-next">
                            <a class="read-next-story" href="/2012/08/compiling-textmate.html">
                    <section class="post">
                        <h2>Compiling Textmate</h2>
                     </section>
                </a>
                                        <a class="read-next-story prev" href="/2012/08/hiding-fields-in-the-admin-based-on-permission.html">
                    <section class="post">
                    <h2>Hiding fields in the Django admin based on permission</h2>
                    </section>
                </a>
                    </aside>
    
    </main>


                        <footer class="site-footer clearfix">
    <section>
            <span class="tag size2"><a href="/blog/tags/"></a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/AVSpeechSynthesizer">AVSpeechSynthesizer</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Ai">Ai</a></span>
            &nbsp;
        <span class="tag size8"><a href="/blog/tags/Android">Android</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Atom">Atom</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Avengers">Avengers</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Batman">Batman</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Batman%20Inc.">Batman Inc.</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Batman%20and%20Robin">Batman and Robin</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/CKEditor">CKEditor</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/Calibre">Calibre</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Cheese">Cheese</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/ComicCon">ComicCon</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/CoreData">CoreData</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/DRM">DRM</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/Docs%20Spreadsheets">Docs Spreadsheets</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/ESI">ESI</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Fontis">Fontis</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/GME">GME</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/GTD">GTD</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/GWT">GWT</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Garlic">Garlic</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/Google">Google</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/Google%20Reader">Google Reader</a></span>
            &nbsp;
        <span class="tag size9"><a href="/blog/tags/HOWTO">HOWTO</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Hulu">Hulu</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Internet%20Explorer">Internet Explorer</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/JIRA">JIRA</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/Kindle">Kindle</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/Mashups">Mashups</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Memcached">Memcached</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/OmniFocus">OmniFocus</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Oracle">Oracle</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/PHPUnit">PHPUnit</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/PostgreSQL">PostgreSQL</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/RSS">RSS</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Redmine">Redmine</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Remember%20the%20Milk">Remember the Milk</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Ruby">Ruby</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/SQL">SQL</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Shared%20web%20hosting%20service">Shared web hosting service</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Siri">Siri</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Skype">Skype</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Sony%20Reader">Sony Reader</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Stan%20Lee">Stan Lee</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/TDD">TDD</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Terminator">Terminator</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/TinyMCE">TinyMCE</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Vibrams">Vibrams</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Virtual%20hosting">Virtual hosting</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Virtual%20private%20server">Virtual private server</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Walking%20Dead">Walking Dead</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Web%20hosting">Web hosting</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/YUI">YUI</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/Zend">Zend</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/adwhirl">adwhirl</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/adwords">adwords</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/aiaio">aiaio</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/ajax">ajax</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/alfred">alfred</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/analytics">analytics</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/angularjs">angularjs</a></span>
            &nbsp;
        <span class="tag size4"><a href="/blog/tags/appengine">appengine</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/apple">apple</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/applepay">applepay</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/apps">apps</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/autocomplete">autocomplete</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/automation">automation</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/beta">beta</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/bit.ly">bit.ly</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/blackberry">blackberry</a></span>
            &nbsp;
        <span class="tag size4"><a href="/blog/tags/blogger">blogger</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/bookmarks">bookmarks</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/brightkite">brightkite</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/calendar">calendar</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/chrome">chrome</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/coffee">coffee</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/css">css</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/debug">debug</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/digg">digg</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/django">django</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/drafts">drafts</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/dropbox">dropbox</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/encryption">encryption</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/engagement">engagement</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/events">events</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/facebook">facebook</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/firefox">firefox</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/friendfeed">friendfeed</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/gadgets">gadgets</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/gchat">gchat</a></span>
            &nbsp;
        <span class="tag size4"><a href="/blog/tags/gdata">gdata</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/gdrive">gdrive</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/gears">gears</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/git">git</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/github">github</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/gmail">gmail</a></span>
            &nbsp;
        <span class="tag size5"><a href="/blog/tags/gpowered.net">gpowered.net</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/greasemonkey">greasemonkey</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/groups">groups</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/homebrew">homebrew</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/instapaper">instapaper</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/interfacebuilder">interfacebuilder</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/ios">ios</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/ipad">ipad</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/iphone">iphone</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/javascript">javascript</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/jira">jira</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/jquery">jquery</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/json">json</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/kids">kids</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/laravel">laravel</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/launch%20center%20pro">launch center pro</a></span>
            &nbsp;
        <span class="tag size5"><a href="/blog/tags/magento">magento</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/maps">maps</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/mercurial">mercurial</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/mock">mock</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/mongodb">mongodb</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/music">music</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/mysql">mysql</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/netbook">netbook</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/nosql">nosql</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/objective%20c">objective c</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/oil">oil</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/omnifocus">omnifocus</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/opensocial">opensocial</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/opensource">opensource</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/os">os</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/osx">osx</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/pesto">pesto</a></span>
            &nbsp;
        <span class="tag size7"><a href="/blog/tags/php">php</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/picasa%20web">picasa web</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/podcasts">podcasts</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/powershell">powershell</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/primal">primal</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/productivity">productivity</a></span>
            &nbsp;
        <span class="tag size6"><a href="/blog/tags/python">python</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/pythonista">pythonista</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/quick">quick</a></span>
            &nbsp;
        <span class="tag size4"><a href="/blog/tags/reader">reader</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/realm">realm</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/regex">regex</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/running">running</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/search">search</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/security">security</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/seo">seo</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/sketch">sketch</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/skynet">skynet</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/sleep">sleep</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/socialgraph">socialgraph</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/solr">solr</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/startup">startup</a></span>
            &nbsp;
        <span class="tag size4"><a href="/blog/tags/swift">swift</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/testing">testing</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/textmate">textmate</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/timbroder.com">timbroder.com</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/todoist">todoist</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/twitter">twitter</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/twitter2gTalk">twitter2gTalk</a></span>
            &nbsp;
        <span class="tag size6"><a href="/blog/tags/ubuntu">ubuntu</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/urls">urls</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/vagrant">vagrant</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/varnish">varnish</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/virtualenv">virtualenv</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/winamp">winamp</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/windows">windows</a></span>
            &nbsp;
        <span class="tag size3"><a href="/blog/tags/wordpress">wordpress</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/xbox">xbox</a></span>
            &nbsp;
        <span class="tag size2"><a href="/blog/tags/xcode">xcode</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/xml">xml</a></span>
            &nbsp;
        <span class="tag size1"><a href="/blog/tags/yahoo%20pipes">yahoo pipes</a></span>
            &nbsp;
        <span class="tag size0"><a href="/blog/tags/youtube">youtube</a></span>
            &nbsp;
    
    </section>
    <section class="copyright">
        Copyright &copy; 2007-2018 -
         Tim Broder -         <span class="credit">Powered by <a href="http://sculpin.io">Sculpin</a></span>
    </section>
</footer>
                <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript" src="https://www.timbroder.com/themes/broderboy/deadfish/assets/js/index.js"></script>
<script type="text/javascript" src="https://www.timbroder.com/themes/broderboy/deadfish/assets/js/rainbow.min.js"></script>
<script type="text/javascript" src="https://www.timbroder.com/themes/broderboy/deadfish/assets/js/rlns.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'timbrodercom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-17099661-1', 'auto');
    ga('send', 'pageview');

</script>    </div>
</body>
</html>
